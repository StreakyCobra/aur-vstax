Index: vstax/src/usr/share/vstax2019/vstax2019.sh
===================================================================
--- vstax.orig/src/usr/share/vstax2019/vstax2019.sh	2020-05-20 17:14:29.000000000 +0200
+++ vstax/src/usr/share/vstax2019/vstax2019.sh	2020-06-07 12:10:00.448320299 +0200
@@ -1,3 +1,17 @@
 #!/bin/sh
-cd /usr/share/vstax2019
-./jre/bin/java -Xmx400m -Xms400m  -jar jfw-launcher-6.1.16-obf.jar "$1"
+default_jvm=`archlinux-java get | sed 's/[^0-9]//g'`
+if [ "$default_jvm" -eq 8 ]
+then
+  JDK_PATH="/usr/lib/jvm/default"
+else
+  java_versions=`archlinux-java status | grep -oe java-[8]-[a-z]*`
+  JDK_PATH="/usr/lib/jvm/"`echo $java_versions | cut -f 1 -d " "`
+fi
+
+if [ -d $JDK_PATH/jre ]
+then
+  JDK_PATH=$JDK_PATH/jre
+fi
+
+cd /usr/share/java/vstax2019
+$JDK_PATH/bin/java -Xmx400m -Xms400m -jar jfw-launcher-6.1.16-obf.jar "$1"
Index: vstax/src/usr/share/applications/vstax2019.desktop
===================================================================
--- vstax.orig/src/usr/share/applications/vstax2019.desktop
+++ vstax/src/usr/share/applications/vstax2019.desktop
@@ -1,15 +1,15 @@
 [Desktop Entry]
 Version=1.0
 Terminal=false
-Icon=/usr/share/vstax2019/vstax2019.png
+Icon=/usr/share/java/vstax2019/vstax2019.png
 Type=Application
 StartupNotify=false
 Categories=Office;
-Exec=/usr/share/vstax2019/vstax2019.sh %U
+Exec=/usr/bin/vstax2019 %U
 MimeType=application/vstax2019;
 Name=VSTax 2019
 GenericName=VSTax 2019
 GenericName[en]=VSTax 2019
 GenericName[de]=VSTax 2019
 GenericName[fr]=VSTax 2019
 GenericName[it]=VSTax 2019
